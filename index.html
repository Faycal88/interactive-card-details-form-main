<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <title>Frontend Mentor | Interactive card details form</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->
    <style>
      @media (max-width: 650px) {
        .leftside {
          display: none;
        }
        .topmobile {
          display: block;
        }
        .cards {
          flex-direction: column-reverse;
        }
      }
      @media (min-width: 650px) {
        .topmobile {
          display: none;
        }
      }
      @import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500&display=swap");
      .attribution {
        font-size: 11px;
        text-align: center;
      }
      .attribution a {
        color: hsl(228, 45%, 44%);
      }
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      ::-webkit-input-placeholder {
        /* Chrome/Opera/Safari */
        color: var(--Lightgrayishviolet);
      }
      ::-moz-placeholder {
        /* Firefox 19+ */
        color: var(--Lightgrayishviolet);
      }
      :-ms-input-placeholder {
        /* IE 10+ */
        color: var(--Lightgrayishviolet);
      }
      :-moz-placeholder {
        /* Firefox 18- */
        color: var(--Lightgrayishviolet);
      }
      :root {
        --White: hsl(0, 0%, 100%);
        --Lightgrayishviolet: hsl(270, 3%, 87%);
        --Darkgrayishviolet: hsl(279, 6%, 55%);
        --Verydarkviolet: hsl(278, 68%, 11%);
      }
      body {
        width: 100%;
        height: 100vh;
        margin: 0 0;
        padding: 0 0;
        font-family: "Space Grotesk", sans-serif;
      }
      input {
        width: auto;
        height: 2em;
        border: 0.5px solid var(--Lightgrayishviolet);
        border-radius: 5px;
        padding: 0.2em 0.5em;
        margin-top: 0.8em;
      }
      input:active {
        border: 0.1px solid var(--Verydarkviolet);
      }
      label {
        font-size: x-small;
      }
    </style>
  </head>
  <body>
    <div
      style="width: 100%; height: 100%; position: absolute"
      class="container"
    >
      <div
        style="
          height: 100%;
          width: 35%;
          background-image: url(./images/bg-main-desktop.png);
        "
        class="leftside"
      ></div>
      <div
        class="topmobile"
        style="
          width: 100%;
          height: 35%;
          background-image: url(./images/bg-main-mobile.png);
        "
      ></div>
      <!-- formstart -->
      <div
        style="
          display: block;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(40%, -50%);
          max-width: 30em;
        "
        class="rightside"
      >
        <form
          action=""
          style="display: flex; flex-direction: column; gap: 1.2em"
        >
          <div style="display: flex; flex-direction: column">
            <label for="Cardholder">CARDHOLDER NAME</label>
            <input
              type="text"
              id="cardname"
              name="cardholder"
              placeholder="e.g. Jane Appleseed"
            />
            <span
              style="
                color: red;
                font-size: xx-small;
                margin-top: 0.4em;
                display: none;
              "
              id="namealert"
              >This feilds is required</span
            >
          </div>
          <div style="display: flex; flex-direction: column">
            <label for="Cardnumber">CARD NUMBER</label>
            <input
              type="number"
              id="cardnumber"
              name="cardnumber"
              placeholder="e.g. 1234 5678 9123 0000"
            />
            <span
              style="
                color: red;
                font-size: xx-small;
                margin-top: 0.4em;
                display: none;
              "
              id="numberalert"
              >This feilds is required</span
            >
          </div>
          <div style="display: flex; gap: 2em">
            <div style="display: flex; flex-direction: column">
              <label for="EXPDate">EXP. DATE (MM/YY)</label>
              <div>
                <input
                  style="max-width: 4em"
                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  type="number"
                  maxlength="2"
                  placeholder="MM"
                  id="cardmonth"
                  name="cardmonth"
                />
                <input
                  style="max-width: 4em"
                  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                  type="number"
                  maxlength="2"
                  placeholder="YY"
                  id="cardyear"
                  name="cardyear"
                />
              </div>
              <span
                style="
                  color: red;
                  font-size: xx-small;
                  margin-top: 0.4em;
                  display: none;
                "
                id="expalert"
                >This feilds is required</span
              >
            </div>
            <div style="display: flex; flex-direction: column">
              <label for="CVC">CVC</label>
              <input
                style="max-width: auto"
                oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                type="number"
                maxlength="3"
                placeholder="e.g. 123"
                id="cardcvc"
                name="cardcvc"
              />
              <span
                style="
                  color: red;
                  font-size: xx-small;
                  margin-top: 0.4em;
                  display: none;
                "
                id="cvcalert"
                >This feilds is required</span
              >
            </div>
          </div>
          <div
            style="display: flex; justify-content: center; text-align: center"
          >
            <button
              id="submit"
              style="
                height: 2.5em;
                width: 100%;
                border: none;
                background-color: var(--Verydarkviolet);
                border-radius: 5px;
                color: var(--White);
                padding: 0.5em 0em;
                font-size: small;
              "
            >
              Confirm
            </button>
          </div>
        </form>
      </div>
      <div
        style="
          display: flex;
          position: fixed;
          flex-direction: column;
          gap: 2em;
          height: auto;
          width: 30em;
          top: 50%;
          left: 50%;
          transform: translate(-90%, -50%);
        "
        class="cards"
      >
        <div
          style="
            width: 20em;
            height: 10em;
            background-image: url(/images/bg-card-front.png);
            background-size: cover;
            background-repeat: no-repeat;
            border-radius: 10px;
          "
          class="front"
        >
          <div
            style="
              display: flex;
              flex-direction: column;
              margin: 1.5em 1.5em;
              gap: 1em;
              color: var(--White);
            "
          >
            <img
              style="max-width: 4em"
              src="./images/card-logo.svg"
              alt="card_logo"
            />
            <div>
              <p style="font-size: 24px; margin: 0.3em 0em">
                0000 0000 0000 0000
              </p>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  font-size: x-small;
                  font-weight: 300;
                "
              >
                <p>JANE APPLEASEED</p>
                <p>00/00</p>
              </div>
            </div>
          </div>
        </div>
        <div
          style="
            width: 20em;
            height: 10em;
            background-image: url(/images/bg-card-back.png);
            background-size: cover;
            background-repeat: no-repeat;
            border-radius: 10px;
            transform: translate(20%, 0%);
          "
          class="back"
        >
          <p
            style="
              position: fixed;
              top: 43%;
              right: 13%;
              font-size: x-small;
              color: var(--White);
            "
          >
            000
          </p>
        </div>
      </div>
      <div
        style="
          display: none;
          position: fixed;
          top: 30%;
          left: 65%;

          max-width: 30em;
          text-align: center;
        "
        id="success"
      >
        <img src="./images/icon-complete.svg" alt="" />
        <h1>THANK YOU!</h1>
        <p>We've added your card details.</p>
        <button
          style="
            margin-top: 2em;
            height: 2.5em;
            width: 100%;
            border: none;
            background-color: var(--Verydarkviolet);
            border-radius: 5px;
            color: var(--White);
            padding: 0.5em 0em;
            font-size: small;
          "
        >
          Continue
        </button>
      </div>
    </div>

    <div class="attribution">
      Challenge by
      <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
        >Frontend Mentor</a
      >. Coded by <a href="https://github.com/Faycal88">MERABET Faycal</a>.
    </div>
    <script>
      let subsriber = {
        cardholdername: "",
        cardnumber: 0,
        expmont: 0,
        expyear: 0,
        cvc: 0,
      };

      var form = document.forms[0];

      var cardholder = document.getElementById("cardname");
      cardholder.addEventListener("focusout", (e) => {
        var selectElement = form.querySelector('input[name="cardholder"]');
        var selectedValue = selectElement.value;
        var alert = document.getElementById("namealert");
        if (selectedValue === "" || selectedValue == undefined) {
          cardholder.style.border = "1px solid red";
          alert.style.display = "block";
        } else {
          cardholder.style.border = "";
          alert.style.display = "none";
        }
      });

      var cardnumber = document.getElementById("cardnumber");
      cardnumber.addEventListener("focusout", (e) => {
        var selectElement = form.querySelector('input[name="cardnumber"]');
        var selectedValue = selectElement.value;
        var alert = document.getElementById("numberalert");
        if (
          selectedValue === "" ||
          selectedValue == undefined ||
          selectedValue == NaN
        ) {
          cardnumber.style.border = "1px solid red";
          alert.style.display = "block";
        } else {
          cardnumber.style.border = "";
          alert.style.display = "none";
        }
      });

      var expm = document.getElementById("cardmonth");
      expm.addEventListener("focusout", (e) => {
        var selectElement = form.querySelector('input[name="cardmonth"]');
        var selectedValue = selectElement.value;
        var alert = document.getElementById("expalert");
        if (
          selectedValue === "" ||
          selectedValue == undefined ||
          selectedValue == NaN
        ) {
          expm.style.border = "1px solid red";
          alert.style.display = "block";
        } else {
          expm.style.border = "";
          alert.style.display = "none";
        }
      });

      var expy = document.getElementById("cardyear");
      expy.addEventListener("focusout", (e) => {
        var selectElement = form.querySelector('input[name="cardyear"]');
        var selectedValue = selectElement.value;
        var alert = document.getElementById("expalert");
        if (
          selectedValue === "" ||
          selectedValue == undefined ||
          selectedValue == NaN
        ) {
          expy.style.border = "1px solid red";
          alert.style.display = "block";
        } else {
          expy.style.border = "";
          alert.style.display = "none";
        }
      });

      var cvc = document.getElementById("cardcvc");
      cvc.addEventListener("focusout", (e) => {
        var selectElement = form.querySelector('input[name="cardcvc"]');
        var selectedValue = selectElement.value;
        var alert = document.getElementById("cvcalert");
        if (
          selectedValue === "" ||
          selectedValue == undefined ||
          selectedValue == NaN
        ) {
          cvc.style.border = "1px solid red";
          alert.style.display = "block";
        } else {
          cvc.style.border = "";
          alert.style.display = "none";
        }
      });

      var submit = document.getElementById("submit");

      submit.addEventListener("click", (event) => {
        event.preventDefault();
        subsriber.cardholdername = document.getElementById("cardname").value;
        subsriber.cardnumber = document.getElementById("cardnumber").value;
        subsriber.expmont = document.getElementById("cardmonth").value;
        subsriber.expyear = document.getElementById("cardyear").value;
        subsriber.cvc = document.getElementById("cardcvc").value;

        console.log(subsriber);
        if (
          subsriber.cardholdername &&
          subsriber.cardnumber &&
          subsriber.expmont &&
          subsriber.expyear &&
          subsriber.cvc
        ) {
          form.style.display = "none";
          var success = document.getElementById("success");
          success.style.display = "block";
        } else {
          var input = document.querySelectorAll("input");
          input.forEach((element) => {
            element.style.border = "1px solid red";
          });
          alert("Fill all the required feilds !");
        }
      });
    </script>
  </body>
</html>
